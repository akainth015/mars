package mars.mips.hardware

enum class MemoryConfiguration(
    val textBaseAddress: UInt,
    val dataSegmentBaseAddress: UInt,
    val externBaseAddress: UInt,
    val globalPointer: UInt,
    val dataBaseAddress: UInt,
    val heapBaseAddress: UInt,
    val stackPointer: UInt,
    val stackBaseAddress: UInt,
    val userSpaceHighAddress: UInt,
    val kernelSpaceBaseAddress: UInt,
    val kTextBaseAddress: UInt,
    val exceptionBaseAddress: UInt,
    val kDataBaseAddress: UInt,
    val mmioBaseAddress: UInt,
    val kernelSpaceHighAddress: UInt,
    val dataSegmentLimitAddress: UInt,
    val textLimitAddress: UInt,
    val kernelDataSegmentLimitAddress: UInt,
    val kernelTextLimitAddress: UInt,
    val stackLimitAddress: UInt,
    val memoryMapLimitAddress: UInt
) {
    Default(
        0x00400000u,
        0x10000000u,
        0x10000000u,
        0x10008000u,
        0x10010000u,
        0x10040000u,
        0x7fffeffcu,
        0x7ffffffcu,
        0x7fffffffu,
        0x80000000u,
        0x80000000u,
        0x80000180u,
        0x90000000u,
        0xffff0000u,
        0xffffffffu,
        0x7fffffffu,
        0x0ffffffcu,
        0xfffeffffu,
        0x8ffffffcu,
        0x10040000u,
        0xffffffffu
    ),
    CompactDataAtZero(
        0x00003000u,
        0x00000000u,
        0x00001000u,
        0x00001800u,
        0x00000000u,
        0x00002000u,
        0x00002ffcu,
        0x00002ffcu,
        0x00003fffu,
        0x00004000u,
        0x00004000u,
        0x00004180u,
        0x00005000u,
        0x00007f00u,
        0x00007fffu,
        0x00002fffu,
        0x00003ffcu,
        0x00007effu,
        0x00004ffcu,
        0x00002000u,
        0x00007fffu
    ),
    CompactTextAtZero(
        0x00000000u,
        0x00001000u,
        0x00001000u,
        0x00001800u,
        0x00002000u,
        0x00003000u,
        0x00003ffcu,
        0x00003ffcu,
        0x00003fffu,
        0x00004000u,
        0x00004000u,
        0x00004180u,
        0x00005000u,
        0x00007f00u,
        0x00007fffu,
        0x00003fffu,
        0x00000ffcu,
        0x00007effu,
        0x00004ffcu,
        0x00003000u,
        0x00007fffu
    );

    val listFormat = arrayOf(
        textBaseAddress,
        dataSegmentBaseAddress,
        externBaseAddress,
        globalPointer,
        dataBaseAddress,
        heapBaseAddress,
        stackPointer,
        stackBaseAddress,
        userSpaceHighAddress,
        kernelSpaceBaseAddress,
        kTextBaseAddress,
        exceptionBaseAddress,
        kDataBaseAddress,
        mmioBaseAddress,
        kernelSpaceHighAddress,
        dataSegmentLimitAddress,
        textLimitAddress,
        kernelDataSegmentLimitAddress,
        kernelTextLimitAddress,
        stackLimitAddress,
        memoryMapLimitAddress
    ).map {
        it.toInt()
    }.toIntArray()
}
